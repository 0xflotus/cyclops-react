<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_25) on Tue Jan 27 14:31:48 GMT 2015 -->
<title>Stage</title>
<meta name="date" content="2015-01-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Stage";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":9,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/aol/simple/react/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Stage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/aol/simple/react/Stage.html" target="_top">Frames</a></li>
<li><a href="Stage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.aol.simple.react</div>
<h2 title="Class Stage" class="title">Class Stage&lt;U&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.aol.simple.react.Stage&lt;U&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - Return parameter for this stage</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Stage&lt;U&gt;</span>
extends java.lang.Object</pre>
<div class="block">An Immutable Builder Class that represents a stage in a SimpleReact Dataflow.
 Chain stages together to build complext reactive dataflows.
 
 Access the underlying CompletableFutures via the 'with' method. Return to
 using JDK Collections and (parrellel) Streams via 'allOf' or 'block'</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>johnmcclean</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T,R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#allOf-java.util.stream.Collector-java.util.function.Function-">allOf</a></span>(java.util.stream.Collector&nbsp;collector,
     java.util.function.Function&lt;T,R&gt;&nbsp;fn)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;T,R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#allOf-java.util.function.Function-">allOf</a></span>(java.util.function.Function&lt;java.util.List&lt;T&gt;,R&gt;&nbsp;fn)</code>
<div class="block">React and <b>allOf</b>
 
 allOf is a non-blocking equivalent of block.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#block--">block</a></span>()</code>
<div class="block">React and <b>block</b>
 
 <code>
                List&lt;String&gt; strings = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .then((it) -&gt; it * 100)
                                .then((it) -&gt; "*" + it)
                                .block();
          </code>
 
 In this example, once the current thread of execution meets the React
 block method, it will block until all tasks have been completed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#block-java.util.stream.Collector-">block</a></span>(java.util.stream.Collector&nbsp;collector)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#block-java.util.stream.Collector-java.util.function.Predicate-">block</a></span>(java.util.stream.Collector&nbsp;collector,
     java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#block-java.util.function.Predicate-">block</a></span>(java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</code>
<div class="block">React and <b>block</b> with <b>breakout</b>
 
 Sometimes you may not need to block until all the work is complete, one
 result or a subset may be enough.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#blockAndExtract-com.aol.simple.react.Extractor-">blockAndExtract</a></span>(com.aol.simple.react.Extractor&nbsp;extractor)</code>
<div class="block">Block until tasks complete and return a value determined by the extractor supplied.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#blockAndExtract-com.aol.simple.react.Extractor-java.util.function.Predicate-">blockAndExtract</a></span>(com.aol.simple.react.Extractor&nbsp;extractor,
               java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</code>
<div class="block">Block until tasks complete, or breakout conditions met and return a value determined by the extractor supplied.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#capture-java.util.function.Consumer-">capture</a></span>(java.util.function.Consumer&lt;? extends java.lang.Throwable&gt;&nbsp;errorHandler)</code>
<div class="block">React <b>capture</b>
 
 While onFail is used for disaster recovery (when it is possible to
 recover) - capture is used to capture those occasions where the full
 pipeline has failed and is unrecoverable.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>com.aol.simple.react.ReactCollector&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#collectResults--">collectResults</a></span>()</code>
<div class="block">This provides a mechanism to collect all of the results of active tasks inside a dataflow stage.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#filter-java.util.function.Predicate-">filter</a></span>(java.util.function.Predicate&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;p)</code>
<div class="block">Removes elements that do not match the supplied predicate from the dataflow</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#first--">first</a></span>()</code>
<div class="block">Block until first result received</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#last--">last</a></span>()</code>
<div class="block">Block until all results received.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#merge-com.aol.simple.react.Stage-">merge</a></span>(<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;s)</code>
<div class="block">Merge this reactive dataflow with another of the same type.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static &lt;R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#merge-com.aol.simple.react.Stage-com.aol.simple.react.Stage-">merge</a></span>(<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&nbsp;s1,
     <a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&nbsp;s2)</code>
<div class="block">Merge this reactive dataflow with another - recommended for merging different types.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#onFail-java.util.function.Function-">onFail</a></span>(java.util.function.Function&lt;? extends java.lang.Throwable,<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;fn)</code>
<div class="block">React <b>onFail</b>
 
 
 Define a function that can be used to recover from exceptions during the
 preceeding stage of the dataflow.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#peek-java.util.function.Consumer-">peek</a></span>(java.util.function.Consumer&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;consumer)</code>
<div class="block">Peek asynchronously at the results in the current stage.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.stream.Stream&lt;java.util.concurrent.CompletableFuture&lt;T&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#stream--">stream</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#submitAndBlock-java.util.function.Function-">submitAndBlock</a></span>(java.util.function.Function&lt;java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;,R&gt;&nbsp;fn)</code>
<div class="block">This method allows the SimpleReact ExecutorService to be reused by JDK parallel streams.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#then-java.util.function.Function-">then</a></span>(java.util.function.Function&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>,R&gt;&nbsp;fn)</code>
<div class="block">React <b>then</b>
 
 
 
 Unlike 'with' this method is fluent, and returns another Stage Builder
 that can represent the next stage in the dataflow.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;java.util.List&lt;java.util.concurrent.CompletableFuture&lt;R&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/aol/simple/react/Stage.html#with-java.util.function.Function-">with</a></span>(java.util.function.Function&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>,R&gt;&nbsp;fn)</code>
<div class="block">React <b>with</b>
 
 Asynchronously apply the function supplied to the currently active event
 tasks in the dataflow.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="submitAndBlock-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submitAndBlock</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;submitAndBlock(java.util.function.Function&lt;java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;,R&gt;&nbsp;fn)</pre>
<div class="block">This method allows the SimpleReact ExecutorService to be reused by JDK parallel streams.
 This offers less control over blocking than raw submit, with the parameterless block() method called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - Function that contains parallelStream code to be executed by the SimpleReact ForkJoinPool (if configured)</dd>
</dl>
</li>
</ul>
<a name="with-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>with</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;java.util.List&lt;java.util.concurrent.CompletableFuture&lt;R&gt;&gt;&nbsp;with(java.util.function.Function&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>,R&gt;&nbsp;fn)</pre>
<div class="block">React <b>with</b>
 
 Asynchronously apply the function supplied to the currently active event
 tasks in the dataflow.
 
 While most methods in this class are fluent, and return a reference to a
 SimpleReact Stage builder, this method can be used this method to access
 the underlying CompletableFutures.
 
 <code>
                List&lt;CompletableFuture&lt;Integer&gt;&gt; futures = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .with((it) -&gt; it * 100);
                        </code>
 
 In this instance, 3 suppliers generate 3 numbers. These may be executed
 in parallel, when they complete each number will be multiplied by 100 -
 as a separate parrellel task (handled by a ForkJoinPool or configurable
 task executor). A List of Future objects will be returned immediately
 from Simple React and the tasks will be executed asynchronously.
 
 React with does not block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - Function to be applied to the results of the currently active
            event tasks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A list of CompletableFutures which will contain the result of the
         application of the supplied function</dd>
</dl>
</li>
</ul>
<a name="then-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>then</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;&nbsp;then(java.util.function.Function&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>,R&gt;&nbsp;fn)</pre>
<div class="block">React <b>then</b>
 
 
 
 Unlike 'with' this method is fluent, and returns another Stage Builder
 that can represent the next stage in the dataflow.
 
 <code>
          new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .then((it) -&gt; it * 100)
                                .then((it) -&gt; "*" + it)
        </code>

 React then allows event reactors to be chained. Unlike React with, which
 returns a collection of Future references, React then is a fluent
 interface that returns the React builder - allowing further reactors to
 be added to the chain.
 
 React then does not block.
 
 React with can be called after React then which gives access to the full
 CompleteableFuture api. CompleteableFutures can be passed back into
 SimpleReact via SimpleReact.react(streamOfCompleteableFutures);
 
 See this blog post for examples of what can be achieved via
 CompleteableFuture :- <a href='http://www.nurkiewicz.com/2013/12/promises-and-completablefuture.html'>http://www.nurkiewicz.com/2013/12/promises-and-completablefuture.html </a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - Function to be applied to the results of the currently active
            event tasks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="peek-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peek</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;peek(java.util.function.Consumer&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;consumer)</pre>
<div class="block">Peek asynchronously at the results in the current stage. Current results are passed through to the next stage.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - That will recieve current results</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="filter-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filter</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;filter(java.util.function.Predicate&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;p)</pre>
<div class="block">Removes elements that do not match the supplied predicate from the dataflow</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>p</code> - Predicate that will be used to filter elements from the dataflow</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="stream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stream</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;java.util.stream.Stream&lt;java.util.concurrent.CompletableFuture&lt;T&gt;&gt;&nbsp;stream()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A Stream of CompletableFutures that represent this stage in the dataflow</dd>
</dl>
</li>
</ul>
<a name="merge-com.aol.simple.react.Stage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;merge(<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;s)</pre>
<div class="block">Merge this reactive dataflow with another of the same type.
 To merge flows of different types use the static method merge and merge to a common ancestor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s</code> - Reactive stage builder to merge with</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Merged dataflow</dd>
</dl>
</li>
</ul>
<a name="merge-com.aol.simple.react.Stage-com.aol.simple.react.Stage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre>public static&nbsp;&lt;R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;&nbsp;merge(<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&nbsp;s1,
                                 <a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&nbsp;s2)</pre>
<div class="block">Merge this reactive dataflow with another - recommended for merging different types.
  To merge flows of the same type the instance method merge is more appropriate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>s1</code> - Reactive stage builder to merge</dd>
<dd><code>s2</code> - Reactive stage builder to merge</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Merged dataflow</dd>
</dl>
</li>
</ul>
<a name="onFail-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onFail</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;onFail(java.util.function.Function&lt;? extends java.lang.Throwable,<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;fn)</pre>
<div class="block">React <b>onFail</b>
 
 
 Define a function that can be used to recover from exceptions during the
 preceeding stage of the dataflow. e.g.
 
 
 
 onFail allows disaster recovery for each task (a separate onFail should
 be configured for each react phase that can fail). E.g. if reading data
 from an external service fails, but default value is acceptable - onFail
 is a suitable mechanism to set the default value. Asynchronously apply
 the function supplied to the currently active event tasks in the
 dataflow.
 
 <code>
                List&lt;String&gt; strings = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 100, () -&gt; 2, () -&gt; 3)
                                        .then(it -&gt; {
                                                if (it == 100)
                                                        throw new RuntimeException("boo!");
                        
                                                return it;
                                        })
                                        .onFail(e -&gt; 1)
                                        .then(it -&gt; "*" + it)
                                        .block();
                  </code>
 
 
 In this example onFail recovers from the RuntimeException thrown when the
 input to the first 'then' stage is 100.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - Recovery function, the exception is input, and the recovery
            value is output</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="capture-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>capture</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;capture(java.util.function.Consumer&lt;? extends java.lang.Throwable&gt;&nbsp;errorHandler)</pre>
<div class="block">React <b>capture</b>
 
 While onFail is used for disaster recovery (when it is possible to
 recover) - capture is used to capture those occasions where the full
 pipeline has failed and is unrecoverable.
 
 <code>
 List&lt;String&gt; strings = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                        .then(it -&gt; it * 100)
                        .then(it -&gt; {
                                if (it == 100)
                                        throw new RuntimeException("boo!");
        
                                return it;
                        })
                        .onFail(e -&gt; 1)
                        .then(it -&gt; "*" + it)
                        .then(it -&gt; {
                                
                                if ("*200".equals(it))
                                        throw new RuntimeException("boo!");
        
                                return it;
                        })
                        .capture(e -&gt; logger.error(e.getMessage(),e))
                        .block();
                </code>
 
 In this case, strings will only contain the two successful results (for
 ()-&gt;1 and ()-&gt;3), an exception for the chain starting from Supplier ()-&gt;2
 will be logged by capture. Capture will not capture the exception thrown
 when an Integer value of 100 is found, but will catch the exception when
 the String value "*200" is passed along the chain.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>errorHandler</code> - A consumer that recieves and deals with an unrecoverable error
            in the dataflow</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="collectResults--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectResults</h4>
<pre>public&nbsp;com.aol.simple.react.ReactCollector&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;collectResults()</pre>
<div class="block">This provides a mechanism to collect all of the results of active tasks inside a dataflow stage.
 This can then be used to provide those results to a function. Inside that function client code can leverage
 JDK 8 parallel Streams that will be executed within the SimpleReact ExecutorService if that service is an instance
 of ForkJoinPool (the default setting). 
 
 Example :
 <code>
 Integer result = new SimpleReact()
                                .&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .then((it) -&gt; { it * 200)
                                .collectResults()
                                .&lt;List&lt;Integer&gt;&gt;block()
                                .submit( 
                                                it -&gt; it.orElse(new ArrayList())
                                                                .parallelStream()
                                                                .filter(f -&gt; f &gt; 300)
                                                                .map(m -&gt; m - 5)
                                                                .reduce(0, (acc, next) -&gt; acc + next));
                                                                
 </code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A builder that allows the blocking mechanism for results collection to be set</dd>
</dl>
</li>
</ul>
<a name="block--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;block()</pre>
<div class="block">React and <b>block</b>
 
 <code>
                List&lt;String&gt; strings = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .then((it) -&gt; it * 100)
                                .then((it) -&gt; "*" + it)
                                .block();
          </code>
 
 In this example, once the current thread of execution meets the React
 block method, it will block until all tasks have been completed. The
 result will be returned as a List. The Reactive tasks triggered by the
 Suppliers are non-blocking, and are not impacted by the block method
 until they are complete. Block, only blocks the current thread.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Results of currently active stage aggregated in a List
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="block-java.util.stream.Collector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;block(java.util.stream.Collector&nbsp;collector)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>collector</code> - to perform aggregation / reduction operation on the results (e.g. to Collect into a List or String)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Results of currently active stage in aggregated in form determined by collector
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="first--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>first</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&nbsp;first()</pre>
<div class="block">Block until first result received</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>first result.
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="last--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>last</h4>
<pre>public&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&nbsp;last()</pre>
<div class="block">Block until all results received.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>last result
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="blockAndExtract-com.aol.simple.react.Extractor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockAndExtract</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;blockAndExtract(com.aol.simple.react.Extractor&nbsp;extractor)</pre>
<div class="block">Block until tasks complete and return a value determined by the extractor supplied.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>extractor</code> - used to determine which value should be returned, recieves current collected input and extracts a return value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Value determined by the supplied extractor
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="blockAndExtract-com.aol.simple.react.Extractor-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>blockAndExtract</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;blockAndExtract(com.aol.simple.react.Extractor&nbsp;extractor,
                             java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</pre>
<div class="block">Block until tasks complete, or breakout conditions met and return a value determined by the extractor supplied.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>extractor</code> - used to determine which value should be returned, recieves current collected input and extracts a return value</dd>
<dd><code>breakout</code> - Predicate that determines whether the block should be
            continued or removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Value determined by the supplied extractor
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="block-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../com/aol/simple/react/Stage.html" title="type parameter in Stage">U</a>&gt;&nbsp;block(java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</pre>
<div class="block">React and <b>block</b> with <b>breakout</b>
 
 Sometimes you may not need to block until all the work is complete, one
 result or a subset may be enough. To faciliate this, block can accept a
 Predicate functional interface that will allow SimpleReact to stop
 blocking the current thread when the Predicate has been fulfilled. E.g.
 
 <code>
                List&lt;String&gt; strings = new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                .then(it -&gt; it * 100)
                                .then(it -&gt; "*" + it)
                                .block(status -&gt; status.getCompleted()&gt;1);
          </code>
 
 In this example the current thread will unblock once more than one result
 has been returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>breakout</code> - Predicate that determines whether the block should be
            continued or removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of Completed results of currently active stage at full completion
         point or when breakout triggered (which ever comes first).
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="block-java.util.stream.Collector-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>block</h4>
<pre>public&nbsp;&lt;R&gt;&nbsp;R&nbsp;block(java.util.stream.Collector&nbsp;collector,
                   java.util.function.Predicate&lt;com.aol.simple.react.Status&gt;&nbsp;breakout)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>collector</code> - to perform aggregation / reduction operation on the results (e.g. to Collect into a List or String)</dd>
<dd><code>breakout</code> - Predicate that determines whether the block should be
            continued or removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Completed results of currently active stage at full completion
         point or when breakout triggered (which ever comes first), in aggregated in form determined by collector
 throws InterruptedException,ExecutionException</dd>
</dl>
</li>
</ul>
<a name="allOf-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allOf</h4>
<pre>public&nbsp;&lt;T,R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;&nbsp;allOf(java.util.function.Function&lt;java.util.List&lt;T&gt;,R&gt;&nbsp;fn)</pre>
<div class="block">React and <b>allOf</b>
 
 allOf is a non-blocking equivalent of block. The current thread is not
 impacted by the calculations, but the reactive chain does not continue
 until all currently alloted tasks complete. The allOf task is then
 provided with a list of the results from the previous tasks in the chain.
 
 <code>
          boolean blocked[] = {false};
                new SimpleReact().&lt;Integer, Integer&gt; react(() -&gt; 1, () -&gt; 2, () -&gt; 3)
                                
                                .then(it -&gt; {
                                        try {
                                                Thread.sleep(50000);
                                        } catch (Exception e) {
                                                
                                        }
                                        blocked[0] =true;
                                        return 10;
                                })
                                .allOf( it -&gt; it.size());

                
                assertThat(blocked[0],is(false));
                </code>
 
 In this example, the current thread will continue and assert that it is
 not blocked, allOf could continue and be executed in a separate thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - Function that recieves the results of all currently active
            tasks as input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
<a name="allOf-java.util.stream.Collector-java.util.function.Function-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allOf</h4>
<pre>public&nbsp;&lt;T,R&gt;&nbsp;<a href="../../../../com/aol/simple/react/Stage.html" title="class in com.aol.simple.react">Stage</a>&lt;R&gt;&nbsp;allOf(java.util.stream.Collector&nbsp;collector,
                            java.util.function.Function&lt;T,R&gt;&nbsp;fn)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>collector</code> - to perform aggregation / reduction operation on the results from active stage (e.g. to Collect into a List or String)</dd>
<dd><code>fn</code> - Function that receives the results of all currently active
            tasks as input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new builder object that can be used to define the next stage in
         the dataflow</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../com/aol/simple/react/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Stage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/aol/simple/react/Stage.html" target="_top">Frames</a></li>
<li><a href="Stage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
